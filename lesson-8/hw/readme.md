# Домашняя работа к 8 уроку

## Описание

1) Написать приложение, которое будет проходиться по указанному
   списку двух и/или более пользователей и собирать данные об их
   подписчиках и подписках.
2) По каждому пользователю, который является подписчиком или на
   которого подписан исследуемый объект нужно извлечь имя, id,
   фото (остальные данные по желанию). Фото можно дополнительно
   скачать.
3) Собранные данные необходимо сложить в базу данных. Структуру
   данных нужно заранее продумать, чтобы:
4) Написать запрос к базе, который вернет список подписчиков
   только указанного пользователя
5) Написать запрос к базе, который вернет список профилей, на кого
   подписан указанный пользователь

Для выполнения данной работы необходимо делать запросы в апи
инстаграм с указанием заголовка
User-Agent: 'Instagram 155.0.0.37.107'

## Предполагаемое решение

Суть:
* `app(пользователи: list) -> [подписчики], [подписки]`
* Поля: `name`, `id`, `photo`
* `sql(пользователь) -> список подписчиков пользователя`
* `sql(пользователь) -> список профилей, на которые пользователь подписан`.

Задачу можно разбить на 2 части:
1) получение данных
2) и работа с базой.

Начнем со второй части.

```json
[
   {"id": "1", "name": "Ivan Petrov", "photo": "https://insta.com/photos/2A39BC328E.jpeg"},
   {"id": "2", "name": "Petr Sidorov", "photo": "https://insta.com/photos/2A39BC328E.jpeg"},
   {"id": "3", "name": "Sidr Ivanov", "photo": "https://insta.com/photos/2A39BC328E.jpeg"}
]
```

* `sql(пользователь) -> список подписчиков пользователя`

  
* `sql(пользователь) -> список профилей, на которые пользователь подписан`.

## Установка окружения

```shell
pip install scrapy
pip install pillow
pip install mongo
```

## Список изменений

* Добавить подписчиков;
* Создавать пользователей и связи при определении связей;
* Создание инстанса соединения с базой один раз;
* Отрефакторить;
* Показать результаты
